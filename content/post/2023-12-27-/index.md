---
title: 基金研究笔记（三）：基金业绩归因
author: ''
date: '2023-12-27'
slug: ''
categories:
  - Work
tags:
  - 基金
---

# 绩效归因分析
主要有两大类方法：
  + 基于收益率的时间序列
回归法（Returns-based approach，RBA）：RBA 主要是考察投资组合的收益率序列相对于一系列风格指数收益率序列
的表现，本质上是时间序列的多元线性回归。RBA 存在一个隐含假设，即投资组合相对一系列风格指数的暴露程度（回归系数），在一段时间内是保持不变的。<font color="red">时间序列回归</font>

  + 基于持仓数据的绩效归因（Holdings-based approach，HBA）。HBA 关注的是投资组合在不同时点上的实际持仓情况，根据具体的持仓信息对基金的收益进行归因与分解。<font color="red">截面数据分析（回归）</font>

# 基于净值的具体归因方法：择时选股能力归因和基金风格归因

+ 择时选股能力归因模型：
  
  - H-M 
  
`$$r_p-r_f = \alpha_p +\beta_1(r_m-r_f)+\beta_2(r_m-r_f)D+\epsilon_p$$`
　
`$$D = \left\{
\begin{array}{ll}
1, & r_m > r_f \\
0, & r_m < r_f
\end{array}
\right.$$`
  - T-M

`$$r_p-r_f = \alpha_p + \beta_1(r_m-r_f)+\beta_2(r_m-r_f)^2 + \epsilon_p$$`

`\(\beta_2\)`为择时能力指标，如果回归得到正的 `\(\beta_2\)` 值，就说明有市场时机能力存在；同时如果回归得到正的 `\(\alpha_p\)` 值，就说明有证券选择能力的存在。

  

+ Sharpe风格归因

Sharpe在1992年结合了资产因子模型提出了收益率分析法。这个分析法的核心思路是设立一系列风格基准指数。利用多元线性回归方法，并以最小化残差平方和为目标，通过对样本基金对这些风格基准指数的回归，我们可以得到基金在各资产风格上的近似比例。简单来说，Sharpe的方法是通过回归分析，将基金的收益率与一系列风格基准指数相关联，从而估算出基金在不同资产风格上的投资比例。这种方法可以帮助投资者更好地理解基金的投资风格和策略，以及基金在不同市场环境下的表现。

`$$\begin{align*}
\arg \min_{\delta_{1,2, \ldots n}} \sum_{t=1}^{T}\left(R_{t}-\sum_{i=1}^{n} \delta_{i} x_{i, t}\right)^{2} \\
\text{s.t.} \quad \delta_{1}+\delta_{2}+\cdots+\delta_{n}=1 \\
\delta_{i} \geq 0, \quad i=1,2, \ldots, n
\end{align*}$$`

具体来说，一种风格划分方法可以根据市值和进攻性来划分：

|       | 成长   | 价值   |  
| :--: | :--: | :--: |  
| 大市值  | 大盘成长 | 大盘价值 |  
| 中市值  | 中盘成长 | 中盘价值 |  
| 小市值  | 小盘成长 | 小盘价值 |

具体的风格收益率可以使用巨潮风格指数。

进行风格归因后，还可以据此判断基金的风格稳定性。

进一步，基金相对业绩基准的超额收益分解为风格配置带来的超额收益与风格内选股带来的超额收益：
`$$R_t − Benchmark_t = (R_t − FStyleReturn_t) + (FStyleReturn_t - Benchmark_t)$$`

# 基于持仓的绩效归因
+ Barra风格归因

基于持仓数据的横截面回归模型，根据投资组合在不同时点上的实际持仓头寸，回归得到在特定风格因子上的暴露程度（回归系数）

主要步骤如下：

1. 因子选择与定义：首先确定哪些因子将被用于风格归因分析。Barra模型通常包括行业因子、市值因子、以及各种风格因子（如价值、成长、动量、波动率等）。

1. 因子暴露度计算：计算投资组合中每个资产对各因子的暴露度。因子暴露度可以通过回归分析等方法估计得出，表达为每个资产收益率对各因子收益率敏感性的度量。

`$$E_{ij} = \beta_{ij} F_j$$`

其中， `\(E_{ij}\)`  是资产  `\(i\)`  对因子  `\(j\)`  的暴露度，  `\(\beta_{ij}\)`  是资产 `\(i\)` 对因子 `\(j\)` 的敏感性， `\(F_j\)`  是因子 `\(j\)` 的收益率。

3. 投资组合因子暴露度：计算整个投资组合对每个因子的加权暴露度。这通过将投资组合中每个资产的因子暴露度与其权重相乘然后求和得到。

$$
E_{Pj} = \sum_{i} w_i  E_{ij}
$$

  其中， `\(E_{Pj}\)`  是投资组合对因子 `\(j\)` 的暴露度， `\(w_i\)`  是资产 `\(i\)` 在投资组合中的权重。

4. 因子收益率估计：估计分析期间每个因子的收益率。这通常通过历史数据分析或市场模型得出。

5. 归因分析：将投资组合的实际收益率分解为各个因子的收益贡献和特定收益。每个因子的收益贡献由投资组合对该因子的暴露度和因子的实际收益率的乘积确定。

$$
R_P = \sum_{j} E_{Pj}  R_{Fj} + R_{specific}
$$

其中， `\(R_P\)`  是投资组合的总收益率， `\(E_{Pj}\)`  是投资组合对因子 `\(j\)` 的暴露度， `\(R_{Fj}\)`  是因子  `\(j\)`  的收益率， `\(R_{specific}\)`  是特定收益，即无法通过因子模型解释的收益部分。

$$
\sigma_P = \sum_{j} E_{Pj}  \sigma_{Fj}\rho_{jP} + \sigma_{specific}\rho_{specific,P}
$$

其中， `\(\sigma_P\)`  是投资组合的总收益率， `\(E_{Pj}\)`  是投资组合对因子 `\(j\)` 的暴露度， `\(\sigma_{Fj}\)`  是因子  `\(j\)`  的标准差，
 `\(\rho_{jP}\)`  是风格因子与投资组合的相关系数。 

常用的Barra风格因子有以下这些：

| 风格因子 | 定义 | 代表含义 |
| --- | --- | --- |
| Beta | CAPM 模型中的  `\(\beta\)` ，是利用股票超额收益率与市场超额收益率进行时间序列加权回归后的回归系数 | 市场收益相关性 |
| BookToPrice | 最新财报的普通股股本除以当前的总市值 | 价值 |
| EarningsYield | 0.68 × 向前 12 个月的预期 EP + 0.21 × 过去 12 个月(TTM)每股现金收益与当前股价的比值 + 0.11 × 过去 12 个月(TTM)每股收益与当前股价的比值 | 盈利性 |
| Growth | 0.18 × 未来三年净利润分析师一致预期相对于净利润(不含少数股东损益)最新年报值的平均增长率 + 0.11 × 未来一年净利润分析师一致预期相对于净利润(不含少数股东损益)最新年报值的平均增长率 + 0.24 × (过去 5 年的基本每股收益关于回归的斜率系数，然后再除以过去 5 年基本每股收益的均值的绝对值) + 0.47 × (过去 5 年每股营业收入关于[0,1,2,3,4]回归的斜率系数，然后再除以过去 5 年每股营业收入的均值的绝对值) | 成长 |
| Leverage | 0.38 × 总市值加上最新年报的长期负债值与总市值的比值 + 0.35 × 资产负债率 + 0.27 × 长期负债和股东权益的和与股东权益的比 | 财务杠杆 |
| Liquidity | 0.35 × 过去一个月日换手率总和的对数 + 0.35 × 过去一个季度月换手率的均值 + 0.30 × 过去一年月换手率的均值 | 流动性 |
| Momentum | 相对强度（Relative Strength），间隔 21 个交易日的过去 504 个交易日股票超额收益率的加权和 | 动量 |
| NonlinearSize | Size 的立方关于 Size 因子做正交化（以总市值作为权重），最后去除异常值（三倍标准差以外的数据用三倍标准差填充） | 中盘 |
| ResidualVolatility | 0.74 × 过去 252 个交易日日超额收益率的加权标准差 + 0.16 × 过去 12 个月月收益率累积收益率的波动幅度 + 0.1 × 过去 252 个交易日残差收益率的加权标准差 | 波动性 |
| Size | 总市值的自然对数 | 大盘 |

*来源：兴业证券研报*


+ Brinson 业绩归因（四象限分解）

Brinson 认为基准和组合在每支资产上的回报率不同，恰好代表了组合在其上的选股能力，而基准和组合在所有资产上的权重不同，代表了组合对基准的配置择时，而由此带来的收益则代表了组合的配置能力。


|           | 组合               | 基准                                 |
|---------------|------------------|--------------------------------------|
| 组合       | （1）组合的实际回报  `\(\sum w_{i}^{p} \cdot R_{i}^{p}\)`  |（2）基准回报+配置回报  `\(\sum w_{i}^{p} \cdot R_{i}^{B}\)`  |
| 基准 |（3）基准回报+选股回报   `\(\sum w_{i}^{B} \cdot R_{i}^{p}\)`   | （4）基准回报  `\(\sum w_{i}^{B} \cdot R_{i}^{B}\)`       |

在这个表格中：
- `\(w_{i}^{p}\)` 表示组合中第i个资产的权重。
- `\(R_{i}^{p}\)` 表示组合中第i个资产的回报率。
- `\(w_{i}^{B}\)` 表示基准中第i个资产的权重。
- `\(R_{i}^{B}\)` 表示基准中第i个资产的回报率。

以将基金的超额收益进行分解：
- 配置回报：(2)-(4)；
- 选股回报：(3)-(4)；
- 交互回报：(1)-(3)-(2)+(4)；
- 总附加回报：(1)-(4)。
- 总附加回报=配置回报+选股回报+交互回报。
